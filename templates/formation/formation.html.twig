{% extends 'artiste-dash.html.twig' %}

{% block title %}Liste formations
{% endblock %}


{% block body %}
	<style>
		.datepicker {
			display: block;
			width: 100%;
			padding: 0.375rem 0.75rem;
			font-size: 1rem;
			line-height: 1.5;
			color: #495057;
			background-color: #fff;
			background-clip: padding-box;
			border: 1px solid #ced4da;
			border-radius: 0.25rem;
			transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
		}
	</style>
	<!-- ============================================================== -->
	<!-- Bread crumb and right sidebar toggle -->
	<!-- ============================================================== -->
		<div class="page-breadcrumb"> <div class="row">
			<div class="col-7 align-self-center">
				<h4 class="page-title text-trunforme text-dark font-weight-medium mb-1">Liste des formations</h4>
				<div class="d-flex align-items-center">
					<nav aria-label="breadcrumb">
						<ol class="breadcrumb m-0 p-0">
							<li class="breadcrumb-item">
								<a href="index.html" class="text-muted">Artiste</a>
							</li>
							<li class="breadcrumb-item text-muted active" aria-current="page">Liste formations</li>
						</ol>
					</nav>
				</div>
			</div>

			<div class="col-5 align-self-center">
				<div
					class="customize-input float-right">
					{# <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
											Ajouter Formation
										</button> #}
					<a href="{{ path('app_add_formation') }}" class="btn btn-primary">
						Ajouter Formation
					</a>
				</div>
			</div>
		</div>
	</div>
	<!-- ============================================================== -->
	<!-- End Bread crumb and right sidebar toggle -->
	<!-- ============================================================== -->
	<!-- ============================================================== -->
	<!-- Container fluid  -->
	<!-- ============================================================== -->
		<div
		class="container-fluid"> <!-- ============================================================== -->

		<div class="row">
			<div class="col-12">
				<div class="card">
					<div class="card-body">

						<div class="table-responsive">
							<table id="zero_config" class="table table-striped table-bordered no-wrap">
								<thead>
									<tr>
										<th>Id</th>
										<th>Nom</th>
										<th>Categorie</th>
										<th>Niveau</th>
										<th>Date debut</th>
										<th>Date fin</th>
										<th>Description</th>
										<th>Prix</th>
										<th>Actions</th>
									</tr>
								</thead>
								<tbody>
									{% for form in formations %}
										<tr>
											<th scope="col">{{ form.id }}</th>
											<td>{{ form.nom|upper }}</td>
											<td>{{ form.cat.nom|capitalize }}
											</td>
											<td>{{ form.niveau }}</td>
											<td>{{ form.datedebut ? form.datedebut|date('Y-m-d') : ''}}</td>
											<td>{{ form.datefin ? form.datefin|date('Y-m-d') : ''}}</td>
											<td>{{ form.description }}</td>
											<td>{{ form.prix }}</td>
											<td>

												<a href="{{ path('app_formation_update', {'id': form.id}) }}" class="btn btn-primary btn-sm ">
													<i class="fas fa-edit"></i>
													Editer
												</a>
												{# <a href="{{ path('app_update_for', {'id': form.id}) }}" class="btn btn-warning btn-sm" role="button">Edit</a> #}

												<button type="button" data-bs-toggle="modal" class="btn btn-danger btn-sm" data-bs-target="#deleteModal{{ form.id }}">
													<i class="fas fa-trash-alt"></i>
													Supprimer
												</button>

											</td>
										</tr>
									{% endfor %}
								</tbody>

							</table>
							<ul class="pagination float-right">
								<li class="page-item disabled">
									<a class="page-link" href="#" tabindex="-1">Previous</a>
								</li>
								<li class="page-item active">
									<a class="page-link" href="#">1</a>
								</li>
								<li class="page-item">
									<a class="page-link" href="#">2
										<span class="sr-only">(current)</span>
									</a>
								</li>
								<li class="page-item">
									<a class="page-link" href="#">3</a>
								</li>
								<li class="page-item">
									<a class="page-link" href="#">Next</a>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Delete Modal -->
	{% for form in formations %}
		<div class="modal fade" id="deleteModal{{ form.id }}" tabindex="-1" aria-labelledby="deleteModalLabel{{ form.id }}" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="deleteModalLabel{{ form.id }}">Confirmer Supprission</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body">
						Etes-vous sûr que vous voulez supprimer "{{ form.nom }}"?
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
						<a href="{{ path('app_formation_delete', {'id': form.id}) }}" class="btn btn-danger">Supprimer</a>
					</div>
				</div>
			</div>
		</div>
	{% endfor %}
	<!-- Update Modal for each formation -->
	{# {% for form in formations %}
	  {% if editForm and form.id == editForm.vars.value.id %}
	
	 
	        <div class="modal fade" id="updateModal{{ form.id }}" tabindex="-1" aria-labelledby="updateModalLabel{{ form.id }}" aria-hidden="true">
	             
				<div class="modal-dialog">
	                <div class="modal-content">
	                    <div class="modal-header">
	                        <h5 class="modal-title" id="updateModalLabel{{ form.id }}">Mise à jour de la formation</h5>
	                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
	                    </div>
	                    <div class="modal-body">
	                        {{ form_start(editForm) }}
	                        <!-- Champs de formulaire pour la mise à jour de la formation -->
	                        {{ form_row(editForm.nom) }}
	                        {{ form_row(editForm.niveau) }}
	                        <!-- Ajoutez d'autres champs de formulaire ici -->
	                    </div>
	                    <div class="modal-footer">
	                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
	                        <button type="submit" class="btn btn-primary">Enregistrer</button>
	                        {{ form_end(editForm) }}
	                    </div>
	                </div>
	            </div>
	        </div>
	    {% endif %}
	{% endfor %} #}

	<!-- Modal -->
	{# <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="exampleModalLabel">Ajouter formation</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div
						class="modal-body">
						<!-- Form for adding the entity -->
	
						{{ form_start(f, {'attr': {'enctype': 'multipart/form-data'}}) }}
						<div class="mb-3">
							{{ form_label(f.nom, "Nom formation:", {'label_attr': {'class': 'form-label'}}) }}
							{{ form_widget(f.nom, {'attr': {'class': 'form-control','placeholder': 'Entré nom de la formation'}}) }}
						</div>
						<div class="mb-3">
							{{ form_label(f.niveau, "Niveau formation:", {'label_attr': {'class': 'form-label'}}) }}
							{{ form_widget(f.niveau, {'attr': {'class': 'form-control','placeholder': 'Entré niveau de la formation'}}) }}
						</div>
						<div class="mb-3">
							{{ form_label(f.datedebut, "Date de début:", {'label_attr': {'class': 'form-label'}}) }}
							{{ form_widget(f.datedebut, {'attr': {'class': 'form-control datepicker', 'placeholder': 'Entrer la date'}}) }}
						</div>
	                    <div class="mb-3">
							{{ form_label(f.datefin, "Date de début:", {'label_attr': {'class': 'form-label'}}) }}
							{{ form_widget(f.datefin, {'attr': {'class': 'datepicker', 'placeholder': 'Entrer la date'}}) }}
						</div>
	                    <div class="mb-3">
							{{ form_label(f.image, "Image formation:", {'label_attr': {'class': 'form-label'}}) }}
							{{ form_row(f.image) }}
						</div>
	                    <div class="mb-3">
							{{ form_label(f.description, "Description formation:", {'label_attr': {'class': 'form-label'}}) }}
							{{ form_widget(f.description, {'attr': {'class': 'form-control','placeholder': 'Entrer la description'}}) }}
						</div>
	                     <div class="mb-3">
							{{ form_label(f.prix, "Prix formation:", {'label_attr': {'class': 'form-label'}}) }}
							{{ form_widget(f.prix, {'attr': {'class': 'form-control','placeholder': 'Entrer le prix'}}) }}
						</div>
	                    <div class="mb-3">
							{{ form_label(f.cat, "Catégorie Formation:", {'label_attr': {'class': 'form-label'}}) }}
							{{ form_widget(f.cat, {'attr': {'class': 'form-control','placeholder': 'Sélectionner la catégorie '}}) }}
						</div>
	                    <div class="mb-3">
							{{ form_label(f.artiste, "Artiste Formation:", {'label_attr': {'class': 'form-label'}}) }}
							{{ form_widget(f.artiste, {'attr': {'class': 'form-control','placeholder': 'Sélectionner artiste '}}) }}
						</div>
						<!-- Add more fields as needed -->
	
	
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
						{{ form_widget(f.Ajouter, {'attr': {'class': 'btn btn-primary'}}) }}
					</div>
					{{ form_end(f) }}
				</div>
			</div>
		</div> #}
		<script>



</script>{% endblock %}
