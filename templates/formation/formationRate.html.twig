{% extends 'artiste-dash.html.twig' %}

{% block title %}Liste formations
{% endblock %}

{% block body %}

	<div class="page-breadcrumb">
		<div class="row">
			<div class="col-7 align-self-center">
				<h4 class="page-title text-trunforme text-dark font-weight-medium mb-1">Liste des formations</h4>
				<div class="d-flex align-items-center">
					<nav aria-label="breadcrumb">
						<ol class="breadcrumb m-0 p-0">
							<li class="breadcrumb-item">
								<a href="index.html" class="text-muted">Artiste</a>
							</li>
							<li class="breadcrumb-item text-muted active" aria-current="page">Liste formations notées</li>
						</ol>
					</nav>
				</div>
			</div>


		</div>
	</div>
	<div
		class="container-fluid">
		<!-- ============================================================== -->
		<div
			class="row mb-4">

			<!-- Votre contenu existant ici -->

			<div class="col-12">
				<div class="card">
					<div class="card-body">
						<div class="d-flex align-items-center mb-4">
							<h4 class="card-title">Top Formations</h4>
							<div class="ml-auto">
								<div class="dropdown sub-dropdown">
									<button class="btn btn-link text-muted dropdown-toggle" type="button" id="dd1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
										<i data-feather="more-vertical"></i>
									</button>
									<div class="dropdown-menu dropdown-menu-right" aria-labelledby="dd1">
										<a class="dropdown-item" href="#">Insert</a>
										<a class="dropdown-item" href="#">Update</a>
										<a class="dropdown-item" href="#">Delete</a>
									</div>
								</div>
							</div>
						</div>
						<div class="table-responsive">
							<table class="table no-wrap v-middle mb-0">
								<thead>
									<tr class="border-0">
										<th class="border-0 font-14 font-weight-medium text-muted">Nom
										</th>
										<th class="border-0 font-14 font-weight-medium text-muted px-2">Catégorie
										</th>
										<th class="border-0 font-14 font-weight-medium text-muted">Note moyenne</th>
										<th class="border-0 font-14 font-weight-medium text-muted text-center">
											Date début
										</th>
										<th class="border-0 font-14 font-weight-medium text-muted text-center">
											Date fin
										</th>
										<th class="border-0 font-14 font-weight-medium text-muted">Prix</th>
									</tr>
								</thead>

								<tbody>
									{% for form in formations %}
										<tr>
											<td class="border-top-0 px-2 py-4">
												<div class="d-flex no-block align-items-center">
													<div class="mr-3"><img src="{{ asset('uploads/' ~ form.image) }}" alt="user" class="rounded-circle" width="45" height="45"/></div>
													<div class="">
														<h5 class="text-dark mb-0 font-16 font-weight-medium">{{ form.nom|upper }}</h5>
														<span class="text-muted font-14">{{ form.niveau }}</span>
													</div>
												</div>
											</td>
											<td class="border-top-0 text-muted px-2 py-4 font-14">{{ form.cat.nom|capitalize }}</td>
											<td class="border-top-0 px-2 py-4">
												{% set averageRating = form.getRatingsAverage() %}
												{% for i in 1..5 %}
													{% if averageRating >= i %}
														<i class="fas fa-star text-warning"></i>
													{% elseif averageRating > i - 1 %}
														<i class="fas fa-star-half-alt text-warning"></i>
													{% else %}
														<i class="far fa-star text-warning"></i>
													{% endif %}
												{% endfor %}
											</td>

											<td class="border-top-0 text-center px-2 py-4">
												{{ form.datedebut ? form.datedebut|date('Y-m-d') : ''}}
											</td>
											<td class="border-top-0 text-center font-weight-medium text-muted px-2 py-4">
												{{ form.datefin ? form.datefin|date('Y-m-d') : ''}}
											</td>
											<td class="font-weight-medium text-dark border-top-0 px-2 py-4">{{ form.prix}}
												Dt
											</td>
										</tr>
									{% endfor %}
								</tbody>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>{% endblock %}
